{"ast":null,"code":"// Importing outside developed components.\nimport React, { useState } from \"react\"; // Promise based HTTP client - https://github.com/axios/axios.\n\nconst axios = require(\"axios\"); // A function to request a list of stops from a user selected route going\n// in specified direction - each of these are received as input.\n\n\nexport default function TouristApi(props) {\n  // The response from the backend we need to track in state:\n  const [touristResponse, setTouristResponse] = useState({\n    tourist_mode_result: []\n  }); // The Effect Hook used to perform side effects in this component.\n  // https://reactjs.org/docs/hooks-effect.html.\n\n  React.useEffect(() => {\n    if (0 === 0) {\n      console.log(\"TouristApi - undefined - got rendered\"); // initial render should be nothing.\n\n      return undefined;\n    } else try {\n      console.log(\"TouristApi - got rendered!\");\n      axios.get(`/api/tourist_mode_result`).then(res => {\n        setTouristResponse(res.data);\n      });\n    } catch (error) {\n      if (axios.isCancel(error)) {\n        console.log(\"cancelled\");\n      } else {\n        throw error;\n      }\n    }\n  }, // Listening for changes in input values in order to\n  // trigger a call to the API  to re-render the component.\n  [props.touristModeFlag]); //   const points = crimes.map((crime) => ({\n  //     type: \"Feature\",\n  //     properties: { cluster: false, crimeId: crime.id, category: crime.category },\n  //     geometry: {\n  //       type: \"Point\",\n  //       coordinates: [\n  //         parseFloat(crime.location.longitude),\n  //         parseFloat(crime.location.latitude),\n  //       ],\n  //     },\n  //   }));\n\n  return touristResponse.tourist_mode_result;\n}","map":{"version":3,"sources":["/Users/evanbyrnes/Pycharm-python-workspace/T13_SP/client/src/components/TouristApi.js"],"names":["React","useState","axios","require","TouristApi","props","touristResponse","setTouristResponse","tourist_mode_result","useEffect","console","log","undefined","get","then","res","data","error","isCancel","touristModeFlag"],"mappings":"AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC,C,CACA;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB,C,CAEA;AACA;;;AACA,eAAe,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AACxC;AACA,QAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCN,QAAQ,CAAC;AACrDO,IAAAA,mBAAmB,EAAE;AADgC,GAAD,CAAtD,CAFwC,CAMxC;AACA;;AACAR,EAAAA,KAAK,CAACS,SAAN,CACE,MAAM;AACJ,QAAI,MAAM,CAAV,EAAa;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ,EADW,CAEX;;AACA,aAAOC,SAAP;AACD,KAJD,MAKE,IAAI;AACFF,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AAEAT,MAAAA,KAAK,CAACW,GAAN,CAAW,0BAAX,EAAsCC,IAAtC,CAA4CC,GAAD,IAAS;AAClDR,QAAAA,kBAAkB,CAACQ,GAAG,CAACC,IAAL,CAAlB;AACD,OAFD;AAGD,KAND,CAME,OAAOC,KAAP,EAAc;AACd,UAAIf,KAAK,CAACgB,QAAN,CAAeD,KAAf,CAAJ,EAA2B;AACzBP,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD,OAFD,MAEO;AACL,cAAMM,KAAN;AACD;AACF;AACJ,GApBH,EAqBE;AACA;AACA,GAACZ,KAAK,CAACc,eAAP,CAvBF,EARwC,CAkCxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAOb,eAAe,CAACE,mBAAvB;AACD","sourcesContent":["// Importing outside developed components.\nimport React, { useState } from \"react\";\n// Promise based HTTP client - https://github.com/axios/axios.\nconst axios = require(\"axios\");\n\n// A function to request a list of stops from a user selected route going\n// in specified direction - each of these are received as input.\nexport default function TouristApi(props) {\n  // The response from the backend we need to track in state:\n  const [touristResponse, setTouristResponse] = useState({\n    tourist_mode_result: [],\n  });\n\n  // The Effect Hook used to perform side effects in this component.\n  // https://reactjs.org/docs/hooks-effect.html.\n  React.useEffect(\n    () => {\n      if (0 === 0) {\n        console.log(\"TouristApi - undefined - got rendered\");\n        // initial render should be nothing.\n        return undefined;\n      } else\n        try {\n          console.log(\"TouristApi - got rendered!\");\n\n          axios.get(`/api/tourist_mode_result`).then((res) => {\n            setTouristResponse(res.data);\n          });\n        } catch (error) {\n          if (axios.isCancel(error)) {\n            console.log(\"cancelled\");\n          } else {\n            throw error;\n          }\n        }\n    },\n    // Listening for changes in input values in order to\n    // trigger a call to the API  to re-render the component.\n    [props.touristModeFlag]\n  );\n\n  //   const points = crimes.map((crime) => ({\n  //     type: \"Feature\",\n  //     properties: { cluster: false, crimeId: crime.id, category: crime.category },\n  //     geometry: {\n  //       type: \"Point\",\n  //       coordinates: [\n  //         parseFloat(crime.location.longitude),\n  //         parseFloat(crime.location.latitude),\n  //       ],\n  //     },\n  //   }));\n\n  return touristResponse.tourist_mode_result;\n}\n"]},"metadata":{},"sourceType":"module"}