{"ast":null,"code":"var _jsxFileName = \"/Users/evanbyrnes/Pycharm-python-workspace/T13_SP/client/src/components/JourneySearch.js\";\nimport React from \"react\";\nimport usePlacesAutocomplete, { getGeocode } from \"use-places-autocomplete\";\nimport { Combobox, ComboboxInput, ComboboxPopover, ComboboxList, ComboboxOption } from \"@reach/combobox\";\nimport { Typeahead } from \"react-bootstrap-typeahead\"; // Generating a Search box with Google Places and Autocomplete.\n// For use in selecting journey origin and destination points.\n\nexport default function JourneySearch({\n  originChoice,\n  destinationChoice,\n  placeholder\n}) {\n  const {\n    ready,\n    value,\n    suggestions: {\n      status,\n      data\n    },\n    setValue,\n    clearSuggestions\n  } = usePlacesAutocomplete({\n    requestOptions: {\n      location: {\n        lat: () => 53,\n        lng: () => -6\n      },\n      radius: 100 * 1000\n    }\n  }); // https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service#AutocompletionRequest\n\n  const handleInput = e => {\n    setValue(e.target.value);\n  };\n\n  const handleSelect = async address => {\n    setValue(address, false);\n    clearSuggestions();\n\n    if (placeholder == \"Departure\") {\n      try {\n        const results = await getGeocode({\n          address\n        });\n        originChoice({\n          results\n        });\n      } catch (error) {\n        console.log(\"ðŸ˜± Error: \", error);\n      }\n    } else if (placeholder == \"Arrival\") {\n      try {\n        const results = await getGeocode({\n          address\n        });\n        destinationChoice({\n          results\n        });\n      } catch (error) {\n        console.log(\"ðŸ˜± Error: \", error);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchLocations\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typeahead, {\n    id: \"basic-example\",\n    options: allRoutes,\n    placeholder: \"Route filter...\",\n    onChange: route => {\n      try {\n        for (var i = 0; i < allRoutes.length; i++) {\n          if (route == allRoutes[i]) {\n            const routeString = allRoutes[i];\n            routeChoice({\n              routeString\n            });\n          }\n        }\n      } catch (error) {\n        console.log(\"ðŸ˜± Error: \", error);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Combobox, {\n    onSelect: handleSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ComboboxInput, {\n    value: value,\n    onChange: handleInput,\n    disabled: !ready,\n    placeholder: placeholder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ComboboxPopover, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ComboboxList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, status === \"OK\" && data.map(({\n    id,\n    description\n  }) => /*#__PURE__*/React.createElement(ComboboxOption, {\n    key: id,\n    value: description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }))))));\n}","map":{"version":3,"sources":["/Users/evanbyrnes/Pycharm-python-workspace/T13_SP/client/src/components/JourneySearch.js"],"names":["React","usePlacesAutocomplete","getGeocode","Combobox","ComboboxInput","ComboboxPopover","ComboboxList","ComboboxOption","Typeahead","JourneySearch","originChoice","destinationChoice","placeholder","ready","value","suggestions","status","data","setValue","clearSuggestions","requestOptions","location","lat","lng","radius","handleInput","e","target","handleSelect","address","results","error","console","log","allRoutes","route","i","length","routeString","routeChoice","map","id","description"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport usePlacesAutocomplete, { getGeocode } from \"use-places-autocomplete\";\nimport {\n  Combobox,\n  ComboboxInput,\n  ComboboxPopover,\n  ComboboxList,\n  ComboboxOption,\n} from \"@reach/combobox\";\nimport { Typeahead } from \"react-bootstrap-typeahead\";\n\n// Generating a Search box with Google Places and Autocomplete.\n// For use in selecting journey origin and destination points.\nexport default function JourneySearch({\n  originChoice,\n  destinationChoice,\n  placeholder,\n}) {\n  const {\n    ready,\n    value,\n    suggestions: { status, data },\n    setValue,\n    clearSuggestions,\n  } = usePlacesAutocomplete({\n    requestOptions: {\n      location: { lat: () => 53, lng: () => -6 },\n      radius: 100 * 1000,\n    },\n  });\n\n  // https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service#AutocompletionRequest\n\n  const handleInput = (e) => {\n    setValue(e.target.value);\n  };\n\n  const handleSelect = async (address) => {\n    setValue(address, false);\n    clearSuggestions();\n\n    if (placeholder == \"Departure\") {\n      try {\n        const results = await getGeocode({ address });\n        originChoice({ results });\n      } catch (error) {\n        console.log(\"ðŸ˜± Error: \", error);\n      }\n    } else if (placeholder == \"Arrival\") {\n      try {\n        const results = await getGeocode({ address });\n        destinationChoice({ results });\n      } catch (error) {\n        console.log(\"ðŸ˜± Error: \", error);\n      }\n    }\n  };\n\n  return (\n    <div className=\"searchLocations\">\n      <Typeahead\n        id=\"basic-example\"\n        options={allRoutes}\n        placeholder=\"Route filter...\"\n        onChange={(route) => {\n          try {\n            for (var i = 0; i < allRoutes.length; i++) {\n              if (route == allRoutes[i]) {\n                const routeString = allRoutes[i];\n                routeChoice({ routeString });\n              }\n            }\n          } catch (error) {\n            console.log(\"ðŸ˜± Error: \", error);\n          }\n        }}\n      />\n      <Combobox onSelect={handleSelect}>\n        <ComboboxInput\n          value={value}\n          onChange={handleInput}\n          disabled={!ready}\n          placeholder={placeholder}\n        />\n        <ComboboxPopover>\n          <ComboboxList>\n            {status === \"OK\" &&\n              data.map(({ id, description }) => (\n                <ComboboxOption key={id} value={description} />\n              ))}\n          </ComboboxList>\n        </ComboboxPopover>\n      </Combobox>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}