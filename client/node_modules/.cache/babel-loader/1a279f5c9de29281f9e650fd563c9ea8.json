{"ast":null,"code":"var _jsxFileName = \"/Users/evanbyrnes/Pycharm-python-workspace/T13_SP/client/src/FullApp.js\";\n// Importing outside developed components.\nimport React, { useState, Component } from \"react\";\nimport { useLoadScript, GoogleMap, Marker, InfoWindow, MarkerClusterer, DirectionsRenderer, DirectionsService } from \"@react-google-maps/api\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Table from \"react-bootstrap/Table\";\nimport { Typeahead } from \"react-bootstrap-typeahead\";\nimport styled from \"styled-components\";\nimport useSwr from \"swr\"; // Importing self-developed components.\n\nimport BrandBar from \"./components/BrandBar\"; // import Directions from \"./components/Directions\";\n// import Table from \"./components/Table\";\n// Importing outside developed css.\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"@reach/combobox/styles.css\"; // Importing the Dublin Bus API stops data\n\nimport * as data from \"./data/DublinBusStops.json\"; // Importing Google Maps Api Key.\n\nimport googleMapApiKey from \"./config\"; // Defining libraries for Google Places\n\nconst libraries = [\"places\"]; // Defined styling for separation of page displayed.\n\nconst Wrapper = styled.main`\n  width: 100%;\n  height: 100%;\n`; // Importing custom styles to customize the style of Google Map.\n// Important for including and excluding certain place markers etc.\n\nconst styles = require(\"./data/GoogleMapStyles.json\"); // Defined custom styles and location for Google Map.\n\n\nconst mapOptions = {\n  styles: styles,\n  disableDefaultUI: true,\n  zoomControl: true,\n  maxZoom: 17,\n  minZoom: 11\n};\nconst mapContainerStyle = {\n  height: \"94vh\"\n}; // consts: [53.349804, -6.260310] - Dublin\n\nconst dublinCenter = {\n  lat: 53.349804,\n  lng: -6.30131\n}; // Icon used to represent a bus stop on the map.\n\nconst icon = {\n  url: \"/bus_icon.svg\",\n  scaledSize: {\n    width: 18,\n    height: 18\n  }\n}; // Icons used when Markers are clustered.\n\nconst options = {\n  imagePath: \"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m\"\n}; // Parsing the Stops data into various object shapes.\n\nconst rawData = data.results;\nconst myStops = rawData.map(stop => ({\n  description: \"Stop \" + stop.stopid + \", \" + stop.fullname,\n  type: \"Feature\",\n  properties: {\n    id: stop.stopid,\n    fullname: stop.fullname,\n    routes: stop.operators[0].routes\n  },\n  geometry: {\n    type: \"Point\",\n    pos: {\n      lat: parseFloat(stop.latitude),\n      lng: parseFloat(stop.longitude)\n    }\n  }\n}));\nconst parsedStops = myStops.map(parsed => ({\n  id: parsed.properties.id,\n  description: parsed.description,\n  geometry: parsed.geometry.pos\n})); // An array that contains only the names of all the stops.\n\nconst stopDescriptions = [];\n\nfor (var i = 0; i < parsedStops.length; i++) {\n  stopDescriptions.push(parsedStops[i].description);\n} // Main function to draw the Map/Page.\n\n\nexport default function App() {\n  const {\n    isLoaded,\n    loadError\n  } = useLoadScript({\n    googleMapsApiKey: googleMapApiKey,\n    libraries\n  });\n  const [center, setCenter] = useState(dublinCenter);\n  const [zoom, setZoom] = useState(11); // The things we need to track in state:\n\n  const [selectedPlace, setSelectedPlace] = useState(null);\n  const [markerMap, setMarkerMap] = useState({});\n  const [infoOpen, setInfoOpen] = useState(false);\n  const [markers, setMarkers] = React.useState([]);\n  const [selected, setSelected] = React.useState(null);\n  const [stopNumber, setStopNumber] = React.useState(0); // The things from Directions we need to track in state.\n\n  const [response, setResponse] = useState(null);\n  const [origin, setOrigin] = useState(0);\n  const [destination, setDestination] = useState(\"\");\n  const mapRef = React.useRef();\n  const onMapLoad = React.useCallback(map => {\n    mapRef.current = map;\n  }, []);\n  const panTo = React.useCallback(({\n    lat,\n    lng\n  }) => {\n    mapRef.current.panTo({\n      lat,\n      lng\n    });\n    mapRef.current.setZoom(16);\n    setMarkers(current => []);\n    setMarkers(current => [...current, {\n      lat: lat,\n      lng: lng\n    }]);\n  }, []); // Changing stop realtime info based on user choice.\n\n  const stopChoice = React.useCallback(number => {\n    console.log(\"stopchoice\", number);\n    setStopNumber(() => parseInt(number.id));\n  }); // We have to create a mapping of our places to actual Marker objects\n\n  const markerLoadHandler = (marker, stop) => {\n    return setMarkerMap(prevState => {\n      return { ...prevState,\n        [stop.properties.id]: marker\n      };\n    });\n  };\n\n  const markerClickHandler = (event, place) => {\n    // Remember which stop was clicked\n    setSelectedPlace(place); // Required so clicking a 2nd marker works as expected\n\n    if (infoOpen) {\n      setInfoOpen(false);\n    }\n\n    setInfoOpen(true);\n  }; // Equivalent to line 19 on DirectionsShell.js\n\n\n  const directionsCallback = React.useCallback(response => {\n    console.log(\"hi, \", response);\n\n    if (response !== null) {\n      if (response.status === \"OK\") {\n        setResponse(response => ({\n          response\n        }));\n      } else {\n        console.log(\"response: \", response);\n      }\n\n      console.log(\"success!\", response);\n    }\n  }, []); // Equivalent to line 33 on DirectionsShell.js\n  // This works as has been shown.\n\n  const getOrigin = () => {\n    console.log(\"getOrigin =\", origin);\n    console.log(\"getOriginType\", typeof origin);\n    return origin;\n  }; // Equivalent to line 37 on DirectionsShell.js\n\n\n  const getDestination = () => {\n    return destination;\n  }; // Equivalent to line 41 on DirectionsShell.js\n  // Changing origin based on user input.\n\n\n  const onClick = React.useCallback(address => {\n    // setOrigin((current) => parseInt(address));\n    setOrigin(current => [...current, {\n      address\n    }]);\n    console.log(\"onClick =, \", origin);\n    console.log(\"onClickType =, \", typeof origin);\n  });\n  if (loadError) return \"Error\";\n  if (!isLoaded) return \"Loading...\";\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(BrandBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Wrapper, {\n    style: {\n      width: \"75%\",\n      float: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"map-settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"mt-0 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"ORIGIN\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 19\n    }\n  }, \"Origin\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"ORIGIN\",\n    className: \"form-control\",\n    ref: getOrigin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    type: \"button\",\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  }, \"Build Route\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typeahead, {\n    id: \"basic-example\",\n    options: stopDescriptions,\n    maxVisible: 2,\n    placeholder: \"Choose a stop...\" //   onClick={(address) => {\n    //     onClick({ address });\n    //   }}\n    ,\n    onChange: address => {\n      try {\n        const id = address;\n        onClick({\n          id\n        });\n      } catch (error) {\n        console.log(\"error\");\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(GoogleMap, {\n    mapContainerStyle: mapContainerStyle,\n    center: center,\n    zoom: zoom,\n    options: mapOptions,\n    onLoad: onMapLoad,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Locate, {\n    panTo: panTo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(MarkerClusterer, {\n    options: options,\n    maxZoom: 16,\n    minimumClusterSize: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, clusterer => myStops.map(stop => /*#__PURE__*/React.createElement(Marker, {\n    icon: icon,\n    key: stop.properties.id,\n    position: stop.geometry.pos,\n    clusterer: clusterer,\n    onLoad: marker => markerLoadHandler(marker, stop),\n    onClick: event => markerClickHandler(event, stop),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 19\n    }\n  }))), infoOpen && selectedPlace && /*#__PURE__*/React.createElement(InfoWindow, {\n    anchor: markerMap[selectedPlace.properties.id],\n    onCloseClick: () => setInfoOpen(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 19\n    }\n  }, \"Stop Number: \", selectedPlace.properties.id), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 19\n    }\n  }, \"Routes: \", selectedPlace.properties.routes.join(\", \")))), markers.map(marker => /*#__PURE__*/React.createElement(Marker, {\n    key: `${marker.lat}-${marker.lng}`,\n    position: {\n      lat: marker.lat,\n      lng: marker.lng\n    },\n    onClick: () => {\n      setSelected(marker);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(Wrapper, {\n    style: {\n      width: \"25%\",\n      float: \"right\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    style: {\n      paddingTop: \"2vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formDeparture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 17\n    }\n  }, \"Real Time Stop Information\"), /*#__PURE__*/React.createElement(Search, {\n    panTo: panTo,\n    stopChoice: stopChoice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(StopInfo, {\n    number: stopNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"panel\",\n    style: {\n      maxHeight: \"63vh\",\n      overflowY: \"scroll\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 13\n    }\n  })))));\n} // Generate an icon which when clicked\n// will adjust the map to the users location.\n\nfunction Locate({\n  panTo\n}) {\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: \"locate\",\n    onClick: () => {\n      navigator.geolocation.getCurrentPosition( // Hard coding Dublin for the time being.\n      position => {\n        panTo({\n          // lat: position.coords.latitude,\n          // lng: position.coords.longitude,\n          lat: dublinCenter.lat,\n          lng: dublinCenter.lng\n        });\n      }, () => null);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"compass\",\n    src: \"/compass.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction TestUserInput({\n  onClick,\n  getOrigin\n}) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"map-settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"mt-0 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"ORIGIN\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 13\n    }\n  }, \"Origin\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"ORIGIN\",\n    className: \"form-control\",\n    ref: getOrigin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    type: \"button\",\n    onClick: number => {\n      try {\n        const num = number;\n        onClick({\n          num\n        });\n      } catch (error) {\n        console.log(\"error\");\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }\n  }, \"Build Route\"));\n} // Generate a searchbox that includes all of the\n// stops. Chosen stop will adjust the map to that\n// stops location and display its realtime info.\n\n\nfunction Search({\n  panTo,\n  stopChoice\n}) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typeahead, {\n    id: \"basic-example\",\n    options: stopDescriptions,\n    maxVisible: 2,\n    placeholder: \"Choose a stop...\",\n    onChange: address => {\n      try {\n        for (var i = 0; i < parsedStops.length; i++) {\n          if (address == parsedStops[i].description) {\n            const lat = parsedStops[i].geometry.lat;\n            const lng = parsedStops[i].geometry.lng;\n            const id = parsedStops[i].id;\n            panTo({\n              lat,\n              lng\n            });\n            stopChoice({\n              id\n            });\n          }\n        }\n      } catch (error) {\n        console.log(\"error\");\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 7\n    }\n  }));\n} // Calls the realtime api and returns a table.\n\n\nfunction StopInfo(props) {\n  const fetcher = (...args) => fetch(...args).then(response => response.json());\n\n  const url = \"https://data.smartdublin.ie/cgi-bin/rtpi/realtimebusinformation?stopid=\" + props.number + \"&operator=bac\";\n  const {\n    data,\n    error\n  } = useSwr(url, {\n    fetcher\n  });\n  const rawStopData = data && !error ? data : // creating a placeholder object while awaiting api response\n  {\n    results: [{\n      arrivaldatetime: \"08/07/2020 00:00:00\",\n      route: \"\",\n      destination: \"\",\n      duetime: \"\"\n    }]\n  };\n  const stopData = rawStopData.results;\n  const realInfo = stopData.map(info => ({\n    id: info.arrivaldatetime,\n    route: info.route,\n    destination: info.destination,\n    arrivaltime: info.duetime\n  }));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxHeight: \"20vh\",\n      overflowY: \"scroll\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 13\n    }\n  }, \"Route\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 13\n    }\n  }, \"Destination\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 13\n    }\n  }, \"Arrival\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 9\n    }\n  }, realInfo.map(info => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: info.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 17\n      }\n    }, info.route), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 17\n      }\n    }, info.destination), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 17\n      }\n    }, info.arrivaltime, \" mins\"));\n  }))));\n}\n\nclass Directions extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      response: null,\n      travelMode: \"DRIVING\",\n      origin: \"\",\n      destination: \"\"\n    };\n    this.directionsCallback = this.directionsCallback.bind(this);\n    this.getOrigin = this.getOrigin.bind(this);\n    this.getDestination = this.getDestination.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.onMapClick = this.onMapClick.bind(this);\n  }\n\n  directionsCallback(response) {\n    console.log(response);\n\n    if (response !== null) {\n      if (response.status === \"OK\") {\n        this.setState(() => ({\n          response\n        }));\n      } else {\n        console.log(\"response: \", response);\n      }\n    }\n  }\n\n  getOrigin(ref) {\n    this.origin = ref;\n  }\n\n  getDestination(ref) {\n    this.destination = ref;\n  }\n\n  onClick() {\n    if (this.origin.value !== \"\" && this.destination.value !== \"\") {\n      this.setState(() => ({\n        origin: this.origin.value,\n        destination: this.destination.value\n      }));\n    }\n  }\n\n  onMapClick(...args) {\n    console.log(\"onClick args: \", args);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"map\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"map-settings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"mt-0 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-lg-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"ORIGIN\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 17\n      }\n    }, \"Origin\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"ORIGIN\",\n      className: \"form-control\",\n      type: \"text\",\n      ref: this.getOrigin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-lg-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"DESTINATION\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 17\n      }\n    }, \"Destination\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"DESTINATION\",\n      className: \"form-control\",\n      type: \"text\",\n      ref: this.getDestination,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"button\",\n      onClick: this.onClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 11\n      }\n    }, \"Build Route\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"map-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(GoogleMap // required\n    , {\n      id: \"direction-example\" // required\n      ,\n      mapContainerStyle: {\n        height: \"400px\",\n        width: \"100%\"\n      } // required\n      ,\n      zoom: 2 // required\n      ,\n      center: {\n        lat: 0,\n        lng: -180\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 11\n      }\n    }, this.state.destination !== \"\" && this.state.origin !== \"\" && /*#__PURE__*/React.createElement(DirectionsService // required\n    , {\n      options: {\n        destination: this.state.destination,\n        origin: this.state.origin,\n        travelMode: this.state.travelMode\n      } // required\n      ,\n      callback: this.directionsCallback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 15\n      }\n    }), this.state.response !== null && /*#__PURE__*/React.createElement(DirectionsRenderer // required\n    , {\n      options: {\n        directions: this.state.response\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 15\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/evanbyrnes/Pycharm-python-workspace/T13_SP/client/src/FullApp.js"],"names":["React","useState","Component","useLoadScript","GoogleMap","Marker","InfoWindow","MarkerClusterer","DirectionsRenderer","DirectionsService","Container","Form","Table","Typeahead","styled","useSwr","BrandBar","data","googleMapApiKey","libraries","Wrapper","main","styles","require","mapOptions","disableDefaultUI","zoomControl","maxZoom","minZoom","mapContainerStyle","height","dublinCenter","lat","lng","icon","url","scaledSize","width","options","imagePath","rawData","results","myStops","map","stop","description","stopid","fullname","type","properties","id","routes","operators","geometry","pos","parseFloat","latitude","longitude","parsedStops","parsed","stopDescriptions","i","length","push","App","isLoaded","loadError","googleMapsApiKey","center","setCenter","zoom","setZoom","selectedPlace","setSelectedPlace","markerMap","setMarkerMap","infoOpen","setInfoOpen","markers","setMarkers","selected","setSelected","stopNumber","setStopNumber","response","setResponse","origin","setOrigin","destination","setDestination","mapRef","useRef","onMapLoad","useCallback","current","panTo","stopChoice","number","console","log","parseInt","markerLoadHandler","marker","prevState","markerClickHandler","event","place","directionsCallback","status","getOrigin","getDestination","onClick","address","float","error","clusterer","join","paddingTop","maxHeight","overflowY","Locate","navigator","geolocation","getCurrentPosition","position","TestUserInput","num","Search","StopInfo","props","fetcher","args","fetch","then","json","rawStopData","arrivaldatetime","route","duetime","stopData","realInfo","info","arrivaltime","Directions","constructor","state","travelMode","bind","onMapClick","setState","ref","value","render","directions"],"mappings":"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","sourcesContent":["// Importing outside developed components.\nimport React, { useState, Component } from \"react\";\nimport {\n  useLoadScript,\n  GoogleMap,\n  Marker,\n  InfoWindow,\n  MarkerClusterer,\n  DirectionsRenderer,\n  DirectionsService,\n} from \"@react-google-maps/api\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Table from \"react-bootstrap/Table\";\nimport { Typeahead } from \"react-bootstrap-typeahead\";\nimport styled from \"styled-components\";\nimport useSwr from \"swr\";\n// Importing self-developed components.\nimport BrandBar from \"./components/BrandBar\";\n// import Directions from \"./components/Directions\";\n// import Table from \"./components/Table\";\n// Importing outside developed css.\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"@reach/combobox/styles.css\";\n// Importing the Dublin Bus API stops data\nimport * as data from \"./data/DublinBusStops.json\";\n// Importing Google Maps Api Key.\nimport googleMapApiKey from \"./config\";\n// Defining libraries for Google Places\nconst libraries = [\"places\"];\n// Defined styling for separation of page displayed.\nconst Wrapper = styled.main`\n  width: 100%;\n  height: 100%;\n`;\n// Importing custom styles to customize the style of Google Map.\n// Important for including and excluding certain place markers etc.\nconst styles = require(\"./data/GoogleMapStyles.json\");\n// Defined custom styles and location for Google Map.\nconst mapOptions = {\n  styles: styles,\n  disableDefaultUI: true,\n  zoomControl: true,\n  maxZoom: 17,\n  minZoom: 11,\n};\nconst mapContainerStyle = {\n  height: \"94vh\",\n};\n// consts: [53.349804, -6.260310] - Dublin\nconst dublinCenter = {\n  lat: 53.349804,\n  lng: -6.30131,\n};\n// Icon used to represent a bus stop on the map.\nconst icon = {\n  url: \"/bus_icon.svg\",\n  scaledSize: { width: 18, height: 18 },\n};\n// Icons used when Markers are clustered.\nconst options = {\n  imagePath:\n    \"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m\",\n};\n// Parsing the Stops data into various object shapes.\nconst rawData = data.results;\nconst myStops = rawData.map((stop) => ({\n  description: \"Stop \" + stop.stopid + \", \" + stop.fullname,\n  type: \"Feature\",\n  properties: {\n    id: stop.stopid,\n    fullname: stop.fullname,\n    routes: stop.operators[0].routes,\n  },\n  geometry: {\n    type: \"Point\",\n    pos: {\n      lat: parseFloat(stop.latitude),\n      lng: parseFloat(stop.longitude),\n    },\n  },\n}));\nconst parsedStops = myStops.map((parsed) => ({\n  id: parsed.properties.id,\n  description: parsed.description,\n  geometry: parsed.geometry.pos,\n}));\n// An array that contains only the names of all the stops.\nconst stopDescriptions = [];\nfor (var i = 0; i < parsedStops.length; i++) {\n  stopDescriptions.push(parsedStops[i].description);\n}\n// Main function to draw the Map/Page.\nexport default function App() {\n  const { isLoaded, loadError } = useLoadScript({\n    googleMapsApiKey: googleMapApiKey,\n    libraries,\n  });\n  const [center, setCenter] = useState(dublinCenter);\n  const [zoom, setZoom] = useState(11);\n  // The things we need to track in state:\n  const [selectedPlace, setSelectedPlace] = useState(null);\n  const [markerMap, setMarkerMap] = useState({});\n  const [infoOpen, setInfoOpen] = useState(false);\n  const [markers, setMarkers] = React.useState([]);\n  const [selected, setSelected] = React.useState(null);\n  const [stopNumber, setStopNumber] = React.useState(0);\n  // The things from Directions we need to track in state.\n  const [response, setResponse] = useState(null);\n  const [origin, setOrigin] = useState(0);\n  const [destination, setDestination] = useState(\"\");\n\n  const mapRef = React.useRef();\n  const onMapLoad = React.useCallback((map) => {\n    mapRef.current = map;\n  }, []);\n\n  const panTo = React.useCallback(({ lat, lng }) => {\n    mapRef.current.panTo({ lat, lng });\n    mapRef.current.setZoom(16);\n    setMarkers((current) => []);\n    setMarkers((current) => [...current, { lat: lat, lng: lng }]);\n  }, []);\n  // Changing stop realtime info based on user choice.\n  const stopChoice = React.useCallback((number) => {\n    console.log(\"stopchoice\", number);\n    setStopNumber(() => parseInt(number.id));\n  });\n\n  // We have to create a mapping of our places to actual Marker objects\n  const markerLoadHandler = (marker, stop) => {\n    return setMarkerMap((prevState) => {\n      return { ...prevState, [stop.properties.id]: marker };\n    });\n  };\n\n  const markerClickHandler = (event, place) => {\n    // Remember which stop was clicked\n    setSelectedPlace(place);\n    // Required so clicking a 2nd marker works as expected\n    if (infoOpen) {\n      setInfoOpen(false);\n    }\n    setInfoOpen(true);\n  };\n\n  // Equivalent to line 19 on DirectionsShell.js\n  const directionsCallback = React.useCallback((response) => {\n    console.log(\"hi, \", response);\n\n    if (response !== null) {\n      if (response.status === \"OK\") {\n        setResponse((response) => ({\n          response,\n        }));\n      } else {\n        console.log(\"response: \", response);\n      }\n      console.log(\"success!\", response);\n    }\n  }, []);\n\n  // Equivalent to line 33 on DirectionsShell.js\n  // This works as has been shown.\n  const getOrigin = () => {\n    console.log(\"getOrigin =\", origin);\n    console.log(\"getOriginType\", typeof origin);\n    return origin;\n  };\n  // Equivalent to line 37 on DirectionsShell.js\n  const getDestination = () => {\n    return destination;\n  };\n  // Equivalent to line 41 on DirectionsShell.js\n  // Changing origin based on user input.\n  const onClick = React.useCallback((address) => {\n    // setOrigin((current) => parseInt(address));\n    setOrigin((current) => [...current, { address }]);\n    console.log(\"onClick =, \", origin);\n    console.log(\"onClickType =, \", typeof origin);\n  });\n\n  if (loadError) return \"Error\";\n  if (!isLoaded) return \"Loading...\";\n\n  return (\n    <div>\n      <Container fluid>\n        <BrandBar></BrandBar>\n        <Wrapper style={{ width: \"75%\", float: \"left\" }}>\n          <div className=\"map-settings\">\n            <hr className=\"mt-0 mb-3\" />\n\n            <div className=\"row\">\n              <div className=\"col-md-6 col-lg-4\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"ORIGIN\">Origin</label>\n                  <br />\n                  <input id=\"ORIGIN\" className=\"form-control\" ref={getOrigin} />\n                </div>\n              </div>\n            </div>\n\n            <button className=\"btn btn-primary\" type=\"button\" onClick={onClick}>\n              Build Route\n            </button>\n          </div>\n\n          <div>\n            <Typeahead\n              id=\"basic-example\"\n              options={stopDescriptions}\n              maxVisible={2}\n              placeholder=\"Choose a stop...\"\n              //   onClick={(address) => {\n              //     onClick({ address });\n              //   }}\n              onChange={(address) => {\n                try {\n                  const id = address;\n                  onClick({ id });\n                } catch (error) {\n                  console.log(\"error\");\n                }\n              }}\n            />\n          </div>\n\n          {/* Render the Google Map */}\n          <GoogleMap\n            mapContainerStyle={mapContainerStyle}\n            center={center}\n            zoom={zoom}\n            options={mapOptions}\n            onLoad={onMapLoad}\n          >\n            <Locate panTo={panTo} />\n\n            <MarkerClusterer\n              options={options}\n              maxZoom={16}\n              minimumClusterSize={4}\n            >\n              {(clusterer) =>\n                myStops.map((stop) => (\n                  <Marker\n                    icon={icon}\n                    key={stop.properties.id}\n                    position={stop.geometry.pos}\n                    clusterer={clusterer}\n                    onLoad={(marker) => markerLoadHandler(marker, stop)}\n                    onClick={(event) => markerClickHandler(event, stop)}\n                  />\n                ))\n              }\n            </MarkerClusterer>\n\n            {infoOpen && selectedPlace && (\n              <InfoWindow\n                anchor={markerMap[selectedPlace.properties.id]}\n                onCloseClick={() => setInfoOpen(false)}\n              >\n                <div>\n                  <h3>Stop Number: {selectedPlace.properties.id}</h3>\n                  <h5>Routes: {selectedPlace.properties.routes.join(\", \")}</h5>\n                </div>\n              </InfoWindow>\n            )}\n            {/* Markers dropped on selection box choice. */}\n            {markers.map((marker) => (\n              <Marker\n                key={`${marker.lat}-${marker.lng}`}\n                position={{ lat: marker.lat, lng: marker.lng }}\n                onClick={() => {\n                  setSelected(marker);\n                }}\n              />\n            ))}\n            {/* {destination !== \"\" && origin !== \"\" && (\n              <DirectionsService\n                // required\n                options={{\n                  destination: destination,\n                  origin: origin,\n                  travelMode: \"TRANSIT\",\n                }}\n                // required\n                callback={directionsCallback}\n              />\n            )}\n\n            {response !== null && (\n              <DirectionsRenderer\n                // required\n                options={{\n                  directions: response,\n                }}\n              />\n            )} */}\n            {/* <Directions></Directions> */}\n          </GoogleMap>\n        </Wrapper>\n\n        <Wrapper style={{ width: \"25%\", float: \"right\" }}>\n          <Container style={{ paddingTop: \"2vh\" }}>\n            <Form>\n              <Form.Group controlId=\"formDeparture\">\n                <Form.Label>Real Time Stop Information</Form.Label>\n                <Search panTo={panTo} stopChoice={stopChoice} />\n              </Form.Group>\n            </Form>\n\n            <StopInfo number={stopNumber} />\n\n            <div\n              id=\"panel\"\n              style={{ maxHeight: \"63vh\", overflowY: \"scroll\" }}\n            ></div>\n          </Container>\n        </Wrapper>\n      </Container>\n    </div>\n  );\n}\n\n// Generate an icon which when clicked\n// will adjust the map to the users location.\nfunction Locate({ panTo }) {\n  return (\n    <button\n      className=\"locate\"\n      onClick={() => {\n        navigator.geolocation.getCurrentPosition(\n          // Hard coding Dublin for the time being.\n          (position) => {\n            panTo({\n              // lat: position.coords.latitude,\n              // lng: position.coords.longitude,\n              lat: dublinCenter.lat,\n              lng: dublinCenter.lng,\n            });\n          },\n          () => null\n        );\n      }}\n    >\n      <img alt=\"compass\" src=\"/compass.svg\" />\n    </button>\n  );\n}\n\nfunction TestUserInput({ onClick, getOrigin }) {\n  return (\n    <div className=\"map-settings\">\n      <hr className=\"mt-0 mb-3\" />\n\n      <div className=\"row\">\n        <div className=\"col-md-6 col-lg-4\">\n          <div className=\"form-group\">\n            <label htmlFor=\"ORIGIN\">Origin</label>\n            <br />\n            <input id=\"ORIGIN\" className=\"form-control\" ref={getOrigin} />\n          </div>\n        </div>\n      </div>\n\n      <button\n        className=\"btn btn-primary\"\n        type=\"button\"\n        onClick={(number) => {\n          try {\n            const num = number;\n            onClick({ num });\n          } catch (error) {\n            console.log(\"error\");\n          }\n        }}\n      >\n        Build Route\n      </button>\n    </div>\n  );\n}\n// Generate a searchbox that includes all of the\n// stops. Chosen stop will adjust the map to that\n// stops location and display its realtime info.\nfunction Search({ panTo, stopChoice }) {\n  return (\n    <div>\n      <Typeahead\n        id=\"basic-example\"\n        options={stopDescriptions}\n        maxVisible={2}\n        placeholder=\"Choose a stop...\"\n        onChange={(address) => {\n          try {\n            for (var i = 0; i < parsedStops.length; i++) {\n              if (address == parsedStops[i].description) {\n                const lat = parsedStops[i].geometry.lat;\n                const lng = parsedStops[i].geometry.lng;\n                const id = parsedStops[i].id;\n                panTo({ lat, lng });\n                stopChoice({ id });\n              }\n            }\n          } catch (error) {\n            console.log(\"error\");\n          }\n        }}\n      />\n    </div>\n  );\n}\n\n// Calls the realtime api and returns a table.\nfunction StopInfo(props) {\n  const fetcher = (...args) =>\n    fetch(...args).then((response) => response.json());\n  const url =\n    \"https://data.smartdublin.ie/cgi-bin/rtpi/realtimebusinformation?stopid=\" +\n    props.number +\n    \"&operator=bac\";\n  const { data, error } = useSwr(url, { fetcher });\n  const rawStopData =\n    data && !error\n      ? data\n      : // creating a placeholder object while awaiting api response\n        {\n          results: [\n            {\n              arrivaldatetime: \"08/07/2020 00:00:00\",\n              route: \"\",\n              destination: \"\",\n              duetime: \"\",\n            },\n          ],\n        };\n  const stopData = rawStopData.results;\n  const realInfo = stopData.map((info) => ({\n    id: info.arrivaldatetime,\n    route: info.route,\n    destination: info.destination,\n    arrivaltime: info.duetime,\n  }));\n\n  return (\n    <div style={{ maxHeight: \"20vh\", overflowY: \"scroll\" }}>\n      <Table striped bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th>Route</th>\n            <th>Destination</th>\n            <th>Arrival</th>\n          </tr>\n        </thead>\n        <tbody>\n          {realInfo.map((info) => {\n            return (\n              <tr key={info.id}>\n                <td>{info.route}</td>\n                <td>{info.destination}</td>\n                <td>{info.arrivaltime} mins</td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n    </div>\n  );\n}\n\nclass Directions extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      response: null,\n      travelMode: \"DRIVING\",\n      origin: \"\",\n      destination: \"\",\n    };\n\n    this.directionsCallback = this.directionsCallback.bind(this);\n    this.getOrigin = this.getOrigin.bind(this);\n    this.getDestination = this.getDestination.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.onMapClick = this.onMapClick.bind(this);\n  }\n\n  directionsCallback(response) {\n    console.log(response);\n\n    if (response !== null) {\n      if (response.status === \"OK\") {\n        this.setState(() => ({\n          response,\n        }));\n      } else {\n        console.log(\"response: \", response);\n      }\n    }\n  }\n\n  getOrigin(ref) {\n    this.origin = ref;\n  }\n\n  getDestination(ref) {\n    this.destination = ref;\n  }\n\n  onClick() {\n    if (this.origin.value !== \"\" && this.destination.value !== \"\") {\n      this.setState(() => ({\n        origin: this.origin.value,\n        destination: this.destination.value,\n      }));\n    }\n  }\n\n  onMapClick(...args) {\n    console.log(\"onClick args: \", args);\n  }\n\n  render() {\n    return (\n      <div className=\"map\">\n        <div className=\"map-settings\">\n          <hr className=\"mt-0 mb-3\" />\n\n          <div className=\"row\">\n            <div className=\"col-md-6 col-lg-4\">\n              <div className=\"form-group\">\n                <label htmlFor=\"ORIGIN\">Origin</label>\n                <br />\n                <input\n                  id=\"ORIGIN\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  ref={this.getOrigin}\n                />\n              </div>\n            </div>\n\n            <div className=\"col-md-6 col-lg-4\">\n              <div className=\"form-group\">\n                <label htmlFor=\"DESTINATION\">Destination</label>\n                <br />\n                <input\n                  id=\"DESTINATION\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  ref={this.getDestination}\n                />\n              </div>\n            </div>\n          </div>\n\n          <button\n            className=\"btn btn-primary\"\n            type=\"button\"\n            onClick={this.onClick}\n          >\n            Build Route\n          </button>\n        </div>\n\n        <div className=\"map-container\">\n          <GoogleMap\n            // required\n            id=\"direction-example\"\n            // required\n            mapContainerStyle={{\n              height: \"400px\",\n              width: \"100%\",\n            }}\n            // required\n            zoom={2}\n            // required\n            center={{\n              lat: 0,\n              lng: -180,\n            }}\n          >\n            {this.state.destination !== \"\" && this.state.origin !== \"\" && (\n              <DirectionsService\n                // required\n                options={{\n                  destination: this.state.destination,\n                  origin: this.state.origin,\n                  travelMode: this.state.travelMode,\n                }}\n                // required\n                callback={this.directionsCallback}\n              />\n            )}\n\n            {this.state.response !== null && (\n              <DirectionsRenderer\n                // required\n                options={{\n                  directions: this.state.response,\n                }}\n              />\n            )}\n          </GoogleMap>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}