{"ast":null,"code":"var _jsxFileName = \"/Users/evanbyrnes/Pycharm-python-workspace/T13_SP/client/src/components/PlanDirections.js\";\nimport React from \"react\"; // Importing the Dublin Bus API stops data\n\nimport * as data from \"../data/db-small.json\";\n\nconst {\n  Component\n} = require(\"react\");\n\nconst {\n  DirectionsRenderer,\n  DirectionsService\n} = require(\"@react-google-maps/api\"); // const ScriptLoaded = require(\"../../docs/ScriptLoaded\").default;\n// Parsing the Stops data into various object shapes.\n\n\nconst rawData = data.results;\nconst myStops = rawData.map(stop => ({\n  description: \"Stop \" + stop.stopid + \", \" + stop.fullname,\n  type: \"Feature\",\n  properties: {\n    id: stop.stopid,\n    fullname: stop.fullname,\n    routes: stop.operators[0].routes\n  },\n  geometry: {\n    type: \"Point\",\n    pos: {\n      lat: parseFloat(stop.latitude),\n      lng: parseFloat(stop.longitude)\n    }\n  }\n}));\nconst parsedStops = myStops.map(parsed => ({\n  id: parsed.properties.id,\n  description: parsed.description,\n  geometry: parsed.geometry.pos\n})); // An array that contains only the names of all the stops.\n\nconst stopDescriptions = [];\n\nfor (var i = 0; i < parsedStops.length; i++) {\n  stopDescriptions.push(parsedStops[i].description);\n} // An array that contains only the names of all the stops.\n\n\nconst stopGeometry = [];\n\nfor (var i = 0; i < parsedStops.length; i++) {\n  stopGeometry.push(parsedStops[i].geometry);\n}\n\nclass PlanDirections extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      response: null,\n      travelMode: \"TRANSIT\",\n      origin: \"\",\n      destination: \"\"\n    };\n    this.directionsCallback = this.directionsCallback.bind(this);\n    this.getOrigin = this.getOrigin.bind(this);\n    this.getDestination = this.getDestination.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.onMapClick = this.onMapClick.bind(this);\n  }\n\n  directionsCallback(response) {\n    console.log(\"hi, \", response);\n\n    if (response !== null) {\n      if (response.status === \"OK\") {\n        this.setState(() => ({\n          response\n        }));\n      } else {\n        console.log(\"response: \", response);\n      }\n    }\n  }\n\n  getOrigin(ref) {\n    this.origin = ref;\n  }\n\n  getDestination(ref) {\n    this.destination = ref;\n  }\n\n  onClick() {\n    if (this.origin.value !== \"\" && this.destination.value !== \"\") {\n      this.setState(() => ({\n        origin: this.origin.value,\n        destination: this.destination.value\n      }));\n    }\n  }\n\n  onMapClick(...args) {\n    console.log(\"onClick args: \", args);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"map\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"map-settings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"mt-0 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-lg-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"ORIGIN\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, \"Origin\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"ORIGIN\",\n      className: \"form-control\",\n      type: \"text\",\n      ref: this.getOrigin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-lg-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Autocomplete, {\n      onLoad: this.onLoad,\n      onPlaceChanged: this.onPlaceChanged,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Customized your placeholder\",\n      style: {\n        boxSizing: `border-box`,\n        border: `1px solid transparent`,\n        width: `240px`,\n        height: `32px`,\n        padding: `0 12px`,\n        borderRadius: `3px`,\n        boxShadow: `0 2px 6px rgba(0, 0, 0, 0.3)`,\n        fontSize: `14px`,\n        outline: `none`,\n        textOverflow: `ellipses`,\n        position: \"absolute\",\n        left: \"50%\",\n        marginLeft: \"-120px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-lg-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"DESTINATION\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }, \"Destination\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"DESTINATION\",\n      className: \"form-control\",\n      type: \"text\",\n      ref: this.getDestination,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-lg-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"DESTINATION\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, \"Destination\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"button\",\n      onClick: this.onClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }, \"Build Route\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"map-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }\n    }, this.state.destination !== \"\" && this.state.origin !== \"\" && /*#__PURE__*/React.createElement(DirectionsService // required\n    , {\n      options: {\n        destination: this.state.destination,\n        origin: this.state.origin,\n        travelMode: this.state.travelMode\n      },\n      console: console.log(\"New\", this.state.destination) // required\n      ,\n      callback: this.directionsCallback // optional\n      ,\n      onLoad: directionsService => {\n        console.log(\"DirectionsService onLoad directionsService: \", directionsService);\n      } // optional\n      ,\n      onUnmount: directionsService => {\n        console.log(\"DirectionsService onUnmount directionsService: \", directionsService);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }), this.state.response !== null && /*#__PURE__*/React.createElement(DirectionsRenderer // required\n    , {\n      options: {\n        directions: this.state.response\n      } // optional\n      ,\n      onLoad: directionsRenderer => {\n        console.log(\"DirectionsRenderer onLoad directionsRenderer: \", directionsRenderer);\n      } // optional\n      ,\n      onUnmount: directionsRenderer => {\n        console.log(\"DirectionsRenderer onUnmount directionsRenderer: \", directionsRenderer);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default PlanDirections;","map":{"version":3,"sources":["/Users/evanbyrnes/Pycharm-python-workspace/T13_SP/client/src/components/PlanDirections.js"],"names":["React","data","Component","require","DirectionsRenderer","DirectionsService","rawData","results","myStops","map","stop","description","stopid","fullname","type","properties","id","routes","operators","geometry","pos","lat","parseFloat","latitude","lng","longitude","parsedStops","parsed","stopDescriptions","i","length","push","stopGeometry","PlanDirections","constructor","props","state","response","travelMode","origin","destination","directionsCallback","bind","getOrigin","getDestination","onClick","onMapClick","console","log","status","setState","ref","value","args","render","onLoad","onPlaceChanged","boxSizing","border","width","height","padding","borderRadius","boxShadow","fontSize","outline","textOverflow","position","left","marginLeft","directionsService","directions","directionsRenderer"],"mappings":"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","sourcesContent":["import React from \"react\";\n\n// Importing the Dublin Bus API stops data\nimport * as data from \"../data/db-small.json\";\n\nconst { Component } = require(\"react\");\nconst {\n  DirectionsRenderer,\n  DirectionsService,\n} = require(\"@react-google-maps/api\");\n// const ScriptLoaded = require(\"../../docs/ScriptLoaded\").default;\n\n// Parsing the Stops data into various object shapes.\nconst rawData = data.results;\nconst myStops = rawData.map((stop) => ({\n  description: \"Stop \" + stop.stopid + \", \" + stop.fullname,\n  type: \"Feature\",\n  properties: {\n    id: stop.stopid,\n    fullname: stop.fullname,\n    routes: stop.operators[0].routes,\n  },\n  geometry: {\n    type: \"Point\",\n    pos: {\n      lat: parseFloat(stop.latitude),\n      lng: parseFloat(stop.longitude),\n    },\n  },\n}));\nconst parsedStops = myStops.map((parsed) => ({\n  id: parsed.properties.id,\n  description: parsed.description,\n  geometry: parsed.geometry.pos,\n}));\n// An array that contains only the names of all the stops.\nconst stopDescriptions = [];\nfor (var i = 0; i < parsedStops.length; i++) {\n  stopDescriptions.push(parsedStops[i].description);\n}\n// An array that contains only the names of all the stops.\nconst stopGeometry = [];\nfor (var i = 0; i < parsedStops.length; i++) {\n  stopGeometry.push(parsedStops[i].geometry);\n}\n\nclass PlanDirections extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      response: null,\n      travelMode: \"TRANSIT\",\n      origin: \"\",\n      destination: \"\",\n    };\n\n    this.directionsCallback = this.directionsCallback.bind(this);\n    this.getOrigin = this.getOrigin.bind(this);\n    this.getDestination = this.getDestination.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.onMapClick = this.onMapClick.bind(this);\n  }\n\n  directionsCallback(response) {\n    console.log(\"hi, \", response);\n\n    if (response !== null) {\n      if (response.status === \"OK\") {\n        this.setState(() => ({\n          response,\n        }));\n      } else {\n        console.log(\"response: \", response);\n      }\n    }\n  }\n\n  getOrigin(ref) {\n    this.origin = ref;\n  }\n\n  getDestination(ref) {\n    this.destination = ref;\n  }\n\n  onClick() {\n    if (this.origin.value !== \"\" && this.destination.value !== \"\") {\n      this.setState(() => ({\n        origin: this.origin.value,\n        destination: this.destination.value,\n      }));\n    }\n  }\n\n  onMapClick(...args) {\n    console.log(\"onClick args: \", args);\n  }\n\n  render() {\n    return (\n      <div className=\"map\">\n        <div className=\"map-settings\">\n          <hr className=\"mt-0 mb-3\" />\n\n          <div className=\"row\">\n            <div className=\"col-md-6 col-lg-4\">\n              <div className=\"form-group\">\n                <label htmlFor=\"ORIGIN\">Origin</label>\n                <input\n                  id=\"ORIGIN\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  ref={this.getOrigin}\n                />\n              </div>\n            </div>\n\n            <div className=\"col-md-6 col-lg-4\">\n              <div className=\"form-group\">\n                <Autocomplete\n                  onLoad={this.onLoad}\n                  onPlaceChanged={this.onPlaceChanged}\n                >\n                  <input\n                    type=\"text\"\n                    placeholder=\"Customized your placeholder\"\n                    style={{\n                      boxSizing: `border-box`,\n                      border: `1px solid transparent`,\n                      width: `240px`,\n                      height: `32px`,\n                      padding: `0 12px`,\n                      borderRadius: `3px`,\n                      boxShadow: `0 2px 6px rgba(0, 0, 0, 0.3)`,\n                      fontSize: `14px`,\n                      outline: `none`,\n                      textOverflow: `ellipses`,\n                      position: \"absolute\",\n                      left: \"50%\",\n                      marginLeft: \"-120px\",\n                    }}\n                  />\n                </Autocomplete>\n              </div>\n            </div>\n\n            <div className=\"col-md-6 col-lg-4\">\n              <div className=\"form-group\">\n                <label htmlFor=\"DESTINATION\">Destination</label>\n\n                <input\n                  id=\"DESTINATION\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  ref={this.getDestination}\n                />\n              </div>\n            </div>\n            <div className=\"col-md-6 col-lg-4\">\n              <div className=\"form-group\">\n                <label htmlFor=\"DESTINATION\">Destination</label>\n                <br />\n                <button\n                  className=\"btn btn-primary\"\n                  type=\"button\"\n                  onClick={this.onClick}\n                >\n                  Build Route\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"map-container\">\n          {this.state.destination !== \"\" && this.state.origin !== \"\" && (\n            <DirectionsService\n              // required\n              options={{\n                destination: this.state.destination,\n                origin: this.state.origin,\n                travelMode: this.state.travelMode,\n              }}\n              console={console.log(\"New\", this.state.destination)}\n              // required\n              callback={this.directionsCallback}\n              // optional\n              onLoad={(directionsService) => {\n                console.log(\n                  \"DirectionsService onLoad directionsService: \",\n                  directionsService\n                );\n              }}\n              // optional\n              onUnmount={(directionsService) => {\n                console.log(\n                  \"DirectionsService onUnmount directionsService: \",\n                  directionsService\n                );\n              }}\n            />\n          )}\n\n          {this.state.response !== null && (\n            <DirectionsRenderer\n              // required\n              options={{\n                directions: this.state.response,\n              }}\n              // optional\n              onLoad={(directionsRenderer) => {\n                console.log(\n                  \"DirectionsRenderer onLoad directionsRenderer: \",\n                  directionsRenderer\n                );\n              }}\n              // optional\n              onUnmount={(directionsRenderer) => {\n                console.log(\n                  \"DirectionsRenderer onUnmount directionsRenderer: \",\n                  directionsRenderer\n                );\n              }}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PlanDirections;\n"]},"metadata":{},"sourceType":"module"}