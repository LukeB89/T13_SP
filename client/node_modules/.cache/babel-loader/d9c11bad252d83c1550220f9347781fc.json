{"ast":null,"code":"var _jsxFileName = \"/Users/evanbyrnes/Pycharm-python-workspace/T13_SP/client/src/components/Directions.js\";\nimport React from \"react\";\nimport usePlacesAutocomplete, { getGeocode, getLatLng } from \"use-places-autocomplete\";\nimport { Combobox, ComboboxInput, ComboboxPopover, ComboboxList, ComboboxOption } from \"@reach/combobox\";\n\nconst {\n  Component\n} = require(\"react\");\n\nconst {\n  DirectionsRenderer,\n  DirectionsService,\n  Autocomplete\n} = require(\"@react-google-maps/api\");\n\nclass Directions extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = address => {\n      this.setState({\n        address\n      });\n    };\n\n    this.handleSelect = address => {\n      geocodeByAddress(address).then(results => getLatLng(results[0])).then(latLng => console.log(\"Success\", latLng)).catch(error => console.error(\"Error\", error));\n    };\n\n    this.state = {\n      response: null,\n      travelMode: \"TRANSIT\",\n      origin: \"\",\n      destination: \"\",\n      address: \"\"\n    };\n    this.directionsCallback = this.directionsCallback.bind(this);\n    this.getOrigin = this.getOrigin.bind(this);\n    this.getDestination = this.getDestination.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.onMapClick = this.onMapClick.bind(this);\n    this.autocomplete = null;\n    this.onLoad = this.onLoad.bind(this);\n    this.onPlaceChanged = this.onPlaceChanged.bind(this);\n  }\n\n  directionsCallback(response) {\n    console.log(\"hi, \", response);\n\n    if (response !== null) {\n      if (response.status === \"OK\") {\n        this.setState(() => ({\n          response\n        }));\n      } else {\n        console.log(\"response: \", response);\n      }\n    }\n  }\n\n  getOrigin(ref) {\n    this.origin = ref;\n  }\n\n  getDestination(ref) {\n    this.destination = ref;\n  }\n\n  onClick() {\n    if (this.origin.value !== \"\" && this.destination.value !== \"\") {\n      this.setState(() => ({\n        origin: this.origin.value,\n        destination: this.destination.value\n      }));\n    }\n  }\n\n  onMapClick(...args) {\n    console.log(\"onClick args: \", args);\n  }\n\n  // onLoad(autocomplete) {\n  //   console.log(\"autocomplete: \", autocomplete);\n  //   this.autocomplete = autocomplete;\n  // }\n  // onPlaceChanged() {\n  //   if (this.autocomplete !== null) {\n  //     console.log(this.autocomplete.getPlace());\n  //   } else {\n  //     console.log(\"Autocomplete is not loaded yet!\");\n  //   }\n  // }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"boxes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-lg-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"DESTINATION\",\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"Destination\",\n      ref: this.getDestination,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-lg-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"button\",\n      onClick: this.onClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, \"Build Route\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"map-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    }, this.state.destination !== \"\" && this.state.origin !== \"\" && /*#__PURE__*/React.createElement(DirectionsService // required\n    , {\n      options: {\n        destination: this.state.destination,\n        origin: this.state.origin,\n        travelMode: this.state.travelMode\n      } // required\n      ,\n      callback: this.directionsCallback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }), this.state.response !== null && /*#__PURE__*/React.createElement(DirectionsRenderer // required\n    , {\n      options: {\n        directions: this.state.response\n      },\n      panel: document.getElementById(\"panel\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default Directions; // function PlaceSearch() {\n//   const {\n//     ready,\n//     value,\n//     suggestions: { status, data },\n//     setValue,\n//     clearSuggestions,\n//   } = usePlacesAutocomplete({\n//     requestOptions: {\n//       location: { lat: () => 53.349804, lng: () => -6.26031 },\n//       radius: 100 * 1000,\n//     },\n//   });\n//   // https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service#AutocompletionRequest\n//   const handleInput = (e) => {\n//     setValue(e.target.value);\n//   };\n//   const handleSelect = async (address) => {\n//     setValue(address, false);\n//     clearSuggestions();\n//     try {\n//       const results = await getGeocode({ address });\n//       const { lat, lng } = await getLatLng(results[0]);\n//     } catch (error) {\n//       console.log(\"ðŸ˜± Error: \", error);\n//     }\n//   };\n//   return (\n//     <div className=\"search\">\n//       <Combobox onSelect={handleSelect}>\n//         <ComboboxInput\n//           value={value}\n//           onChange={handleInput}\n//           disabled={!ready}\n//           placeholder=\"Search your location\"\n//         />\n//         <ComboboxPopover>\n//           <ComboboxList>\n//             {status === \"OK\" &&\n//               data.map(({ id, description }) => (\n//                 <ComboboxOption key={id} value={description} />\n//               ))}\n//           </ComboboxList>\n//         </ComboboxPopover>\n//       </Combobox>\n//     </div>\n//   );\n// }","map":{"version":3,"sources":["/Users/evanbyrnes/Pycharm-python-workspace/T13_SP/client/src/components/Directions.js"],"names":["React","usePlacesAutocomplete","getGeocode","getLatLng","Combobox","ComboboxInput","ComboboxPopover","ComboboxList","ComboboxOption","Component","require","DirectionsRenderer","DirectionsService","Autocomplete","Directions","constructor","props","handleChange","address","setState","handleSelect","geocodeByAddress","then","results","latLng","console","log","catch","error","state","response","travelMode","origin","destination","directionsCallback","bind","getOrigin","getDestination","onClick","onMapClick","autocomplete","onLoad","onPlaceChanged","status","ref","value","args","render","directions","document","getElementById"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport usePlacesAutocomplete, {\n  getGeocode,\n  getLatLng,\n} from \"use-places-autocomplete\";\nimport {\n  Combobox,\n  ComboboxInput,\n  ComboboxPopover,\n  ComboboxList,\n  ComboboxOption,\n} from \"@reach/combobox\";\nconst { Component } = require(\"react\");\nconst {\n  DirectionsRenderer,\n  DirectionsService,\n  Autocomplete,\n} = require(\"@react-google-maps/api\");\n\nclass Directions extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      response: null,\n      travelMode: \"TRANSIT\",\n      origin: \"\",\n      destination: \"\",\n      address: \"\",\n    };\n\n    this.directionsCallback = this.directionsCallback.bind(this);\n    this.getOrigin = this.getOrigin.bind(this);\n    this.getDestination = this.getDestination.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.onMapClick = this.onMapClick.bind(this);\n\n    this.autocomplete = null;\n\n    this.onLoad = this.onLoad.bind(this);\n    this.onPlaceChanged = this.onPlaceChanged.bind(this);\n  }\n\n  directionsCallback(response) {\n    console.log(\"hi, \", response);\n\n    if (response !== null) {\n      if (response.status === \"OK\") {\n        this.setState(() => ({\n          response,\n        }));\n      } else {\n        console.log(\"response: \", response);\n      }\n    }\n  }\n\n  getOrigin(ref) {\n    this.origin = ref;\n  }\n\n  getDestination(ref) {\n    this.destination = ref;\n  }\n\n  onClick() {\n    if (this.origin.value !== \"\" && this.destination.value !== \"\") {\n      this.setState(() => ({\n        origin: this.origin.value,\n        destination: this.destination.value,\n      }));\n    }\n  }\n\n  onMapClick(...args) {\n    console.log(\"onClick args: \", args);\n  }\n\n  handleChange = (address) => {\n    this.setState({ address });\n  };\n\n  handleSelect = (address) => {\n    geocodeByAddress(address)\n      .then((results) => getLatLng(results[0]))\n      .then((latLng) => console.log(\"Success\", latLng))\n      .catch((error) => console.error(\"Error\", error));\n  };\n\n  // onLoad(autocomplete) {\n  //   console.log(\"autocomplete: \", autocomplete);\n\n  //   this.autocomplete = autocomplete;\n  // }\n\n  // onPlaceChanged() {\n  //   if (this.autocomplete !== null) {\n  //     console.log(this.autocomplete.getPlace());\n  //   } else {\n  //     console.log(\"Autocomplete is not loaded yet!\");\n  //   }\n  // }\n\n  render() {\n    return (\n      <div className=\"\">\n        <div className=\"boxes\">\n          <div className=\"row\">\n            {/* <div className=\"col-md-6 col-lg-4\">\n              <div className=\"\">\n                <input\n                  id=\"ORIGIN\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  placeholder=\"Origin\"\n                  ref={this.getOrigin}\n                />\n              </div>\n            </div> */}\n            <div className=\"col-md-6 col-lg-4\">\n              <div className=\"\">\n                <input\n                  id=\"DESTINATION\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  placeholder=\"Destination\"\n                  ref={this.getDestination}\n                />\n              </div>\n            </div>\n            <div className=\"col-md-6 col-lg-4\">\n              <div className=\"\">\n                <button\n                  className=\"btn btn-primary\"\n                  type=\"button\"\n                  onClick={this.onClick}\n                >\n                  Build Route\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"map-container\">\n          {this.state.destination !== \"\" && this.state.origin !== \"\" && (\n            <DirectionsService\n              // required\n              options={{\n                destination: this.state.destination,\n                origin: this.state.origin,\n                travelMode: this.state.travelMode,\n              }}\n              // required\n              callback={this.directionsCallback}\n            />\n          )}\n\n          {this.state.response !== null && (\n            <DirectionsRenderer\n              // required\n              options={{\n                directions: this.state.response,\n              }}\n              panel={document.getElementById(\"panel\")}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Directions;\n\n// function PlaceSearch() {\n//   const {\n//     ready,\n//     value,\n//     suggestions: { status, data },\n//     setValue,\n//     clearSuggestions,\n//   } = usePlacesAutocomplete({\n//     requestOptions: {\n//       location: { lat: () => 53.349804, lng: () => -6.26031 },\n//       radius: 100 * 1000,\n//     },\n//   });\n\n//   // https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service#AutocompletionRequest\n\n//   const handleInput = (e) => {\n//     setValue(e.target.value);\n//   };\n\n//   const handleSelect = async (address) => {\n//     setValue(address, false);\n//     clearSuggestions();\n\n//     try {\n//       const results = await getGeocode({ address });\n//       const { lat, lng } = await getLatLng(results[0]);\n//     } catch (error) {\n//       console.log(\"ðŸ˜± Error: \", error);\n//     }\n//   };\n\n//   return (\n//     <div className=\"search\">\n//       <Combobox onSelect={handleSelect}>\n//         <ComboboxInput\n//           value={value}\n//           onChange={handleInput}\n//           disabled={!ready}\n//           placeholder=\"Search your location\"\n//         />\n//         <ComboboxPopover>\n//           <ComboboxList>\n//             {status === \"OK\" &&\n//               data.map(({ id, description }) => (\n//                 <ComboboxOption key={id} value={description} />\n//               ))}\n//           </ComboboxList>\n//         </ComboboxPopover>\n//       </Combobox>\n//     </div>\n//   );\n// }\n"]},"metadata":{},"sourceType":"module"}